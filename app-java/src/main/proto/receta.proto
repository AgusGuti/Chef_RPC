syntax = "proto3";

package model;

option java_package = "com.chefencasa.model";
option java_outer_classname = "RecetaProto";

import "google/protobuf/empty.proto";
import "google/protobuf/wrappers.proto";
import "google/protobuf/timestamp.proto";

service RecetasService {
  rpc AddReceta(Receta) returns (RecetaResponse) {}
  rpc getByFilter(RecetaFiltro) returns (RecetasResponse) {}
  rpc getAllRecetas(Empty) returns (RecetasResponse) {}
  rpc getAllRecetasByUser(UsuarioId) returns (RecetasResponse) {}
  rpc updateReceta(RecetaId) returns (RecetaResponse) {}
}

message Empty {
}

message Ingrediente {
  int32 idIngrediente = 1;
  string ingrediente = 2;
}

message Receta {
  int32 idReceta = 1;
  int32 idUsuario = 2;
  string tituloReceta = 3;
  string descripcion = 4;
  string idCategoria = 5;
  string pasos = 6;
  google.protobuf.Timestamp fechaCreacion = 7;
  repeated string ingredientes = 8;
  string foto1 = 9;
  string foto2 = 10;
  string foto3 = 11;
  string foto4 = 12;
  string foto5 = 13;
}

message RecetaResponse {
  Receta receta = 1;
  string mensaje = 2;
}

message RecetasResponse {
  repeated Receta receta = 1;
  string mensaje = 2;
}

message UsuarioId {
  int32 idUsuario = 1;
}

message RecetaId {
  int32 idReceta = 1;
}


message RecetaFiltro{
    int32 categoria = 1;
	string nombre = 2;
	repeated Ingrediente ingredientes = 3;
	string tiempoPrepDesde = 4;
	string tiempoPrepHasta = 5;
}